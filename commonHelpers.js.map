{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["class SearchImageAPI {\n  static headers = {};\n\n  static baseURL = 'https://pixabay.com/api/';\n\n  static baseParameters = {\n    key: '45059083-8ad77475a4982aeafbefc4919',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  static search(q) {\n    const parameters = new URLSearchParams({\n      ...SearchImageAPI.baseParameters,\n      q: q.trim(),\n    });\n\n    return fetch(`${SearchImageAPI.baseURL}?${parameters.toString()}`).then(\n      response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      }\n    );\n  }\n}\n\nexport default SearchImageAPI;\n","'use strict';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\n\nconst simpleLightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n  className: 'simple-lightbox',\n});\n\nconst addFooter = ({ views, comments, downloads, likes }) => {\n  return `\n  <div class=\"gallery-footer\">\n    <div class=\"field\"><div class=\"label\">Likes</div><div class=\"value\">${likes}</div></div>\n    <div class=\"field\"><div class=\"label\">Views</div><div class=\"value\">${views}</div></div>\n    <div class=\"field\"><div class=\"label\">Comments</div><div class=\"value\">${comments}</div></div>\n    <div class=\"field\"><div class=\"label\">Downloads</div><div class=\"value\">${downloads}</div></div>\n  </div>\n  `;\n};\n\nexport const resetImages = (selector = '.gallery') => {\n  const gallery = document.querySelector(selector);\n  gallery.textContent = '';\n};\n\nexport const addImages = (images, selector = '.gallery') => {\n  const gallery = document.querySelector(selector);\n\n  if (images.length === 0) {\n    iziToast.show({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      backgroundColor: '#EF4040',\n      messageColor: '#FFFFFF',\n      messageSize: '16px',\n      position: 'topRight',\n      maxWidth: 380,\n    });\n    return;\n  }\n\n  const adjacentImages = images\n    .map(\n      ({ webformatURL, largeImageURL, tags, ...props }) =>\n        `\n      <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n          />\n        </a>\n        ${addFooter(props)}\n      </li>\n      `\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', adjacentImages);\n  simpleLightbox.refresh();\n};\n","import SearchImageAPI from './js/pixabay-api';\nimport { addImages, resetImages } from './js/render-functions';\n\nconst searchForm = document.querySelector('.form-pixabay');\nconst searchField = document.querySelector('input[name=\"search\"]');\nconst loader = document.querySelector('.loader');\n\nconst search = q => {\n  resetImages();\n  loader.classList.add('show');\n\n  SearchImageAPI.search(q)\n    .then(data => {\n      addImages(data.hits);\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      loader.classList.remove('show');\n    });\n};\n\nsearchForm.addEventListener('submit', function (event) {\n  event.preventDefault();\n\n  search(searchField.value);\n  searchField.value = '';\n});\n"],"names":["_SearchImageAPI","q","parameters","response","__publicField","SearchImageAPI","simpleLightbox","SimpleLightbox","addFooter","views","comments","downloads","likes","resetImages","selector","gallery","addImages","images","iziToast","adjacentImages","webformatURL","largeImageURL","tags","props","searchForm","searchField","loader","search","data","error","event"],"mappings":"q6BAAA,MAAMA,EAAN,MAAMA,CAAe,CAYnB,OAAO,OAAOC,EAAG,CACf,MAAMC,EAAa,IAAI,gBAAgB,CACrC,GAAGF,EAAe,eAClB,EAAGC,EAAE,KAAM,CACjB,CAAK,EAED,OAAO,MAAM,GAAGD,EAAe,OAAO,IAAIE,EAAW,SAAQ,CAAE,EAAE,EAAE,KACjEC,GAAY,CACV,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACjB,CACP,CACG,CACH,EA1BEC,EADIJ,EACG,UAAU,CAAA,GAEjBI,EAHIJ,EAGG,UAAU,4BAEjBI,EALIJ,EAKG,iBAAiB,CACtB,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,GAVA,IAAMK,EAANL,ECMA,MAAMM,EAAiB,IAAIC,EAAe,aAAc,CACtD,SAAU,GACV,aAAc,MACd,aAAc,IACd,UAAW,iBACb,CAAC,EAEKC,EAAY,CAAC,CAAE,MAAAC,EAAO,SAAAC,EAAU,UAAAC,EAAW,MAAAC,CAAK,IAC7C;AAAA;AAAA,0EAEiEA,CAAK;AAAA,0EACLH,CAAK;AAAA,6EACFC,CAAQ;AAAA,8EACPC,CAAS;AAAA;AAAA,IAK1EE,EAAc,CAACC,EAAW,aAAe,CACpD,MAAMC,EAAU,SAAS,cAAcD,CAAQ,EAC/CC,EAAQ,YAAc,EACxB,EAEaC,EAAY,CAACC,EAAQH,EAAW,aAAe,CAC1D,MAAMC,EAAU,SAAS,cAAcD,CAAQ,EAE/C,GAAIG,EAAO,SAAW,EAAG,CACvBC,EAAS,KAAK,CACZ,QACE,2EACF,gBAAiB,UACjB,aAAc,UACd,YAAa,OACb,SAAU,WACV,SAAU,GAChB,CAAK,EACD,MACD,CAED,MAAMC,EAAiBF,EACpB,IACC,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,GAAGC,CAAO,IAC9C;AAAA;AAAA,wCAEgCF,CAAa;AAAA;AAAA;AAAA,mBAGlCD,CAAY;AAAA,mBACZE,CAAI;AAAA;AAAA;AAAA,UAGbd,EAAUe,CAAK,CAAC;AAAA;AAAA,OAGrB,EACA,KAAK,EAAE,EAEVR,EAAQ,mBAAmB,YAAaI,CAAc,EACtDb,EAAe,QAAO,CACxB,EC9DMkB,EAAa,SAAS,cAAc,eAAe,EACnDC,EAAc,SAAS,cAAc,sBAAsB,EAC3DC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAS1B,GAAK,CAClBY,IACAa,EAAO,UAAU,IAAI,MAAM,EAE3BrB,EAAe,OAAOJ,CAAC,EACpB,KAAK2B,GAAQ,CACZZ,EAAUY,EAAK,IAAI,CACzB,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbH,EAAO,UAAU,OAAO,MAAM,CACpC,CAAK,CACL,EAEAF,EAAW,iBAAiB,SAAU,SAAUM,EAAO,CACrDA,EAAM,eAAc,EAEpBH,EAAOF,EAAY,KAAK,EACxBA,EAAY,MAAQ,EACtB,CAAC"}